(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4717:(e,r,t)=>{"use strict";t.d(r,{n:()=>a});var s=t(4477);let a=(0,s.createServerReference)("406fa3e4455bb61e1ba14699a875f2d259d04a36aa",s.callServer,void 0,s.findSourceMapURL,"getPurchasedMusic")},5096:(e,r,t)=>{"use strict";t.d(r,{L:()=>u});var s=t(5155),a=t(6766),n=t(6874),l=t.n(n),i=t(6695),c=t(6126),o=t(8817);function d(e){var r;let{item:t}=e,n=o.G.find(e=>e.id===t.imageId),d="number"==typeof t.price?t.price:0;return(0,s.jsx)(l(),{href:"/sheet-music/".concat(t.id),className:"group",children:(0,s.jsxs)(i.Zp,{className:"h-full overflow-hidden transition-all duration-300 hover:shadow-lg hover:shadow-primary/20 hover:border-primary/50",children:[(0,s.jsx)(i.aR,{className:"p-0",children:(0,s.jsx)("div",{className:"aspect-[3/4] overflow-hidden",children:(0,s.jsx)(a.default,{src:null!=(r=null==n?void 0:n.imageUrl)?r:"https://picsum.photos/seed/placeholder/600/800",alt:t.title,width:600,height:800,className:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105","data-ai-hint":null==n?void 0:n.imageHint})})}),(0,s.jsxs)(i.Wu,{className:"p-4",children:[(0,s.jsx)(i.ZB,{className:"text-lg font-headline leading-tight",children:t.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t.composer})]}),(0,s.jsxs)(i.wL,{className:"p-4 pt-0 flex justify-between items-center",children:[(0,s.jsx)(c.E,{variant:"secondary",children:t.instrument}),(0,s.jsxs)("p",{className:"font-semibold text-lg text-primary",children:["$",d.toFixed(2)]})]})]})})}function u(e){let{items:r}=e;return 0===r.length?(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-16",children:[(0,s.jsx)("p",{className:"text-lg",children:"No sheet music found."}),(0,s.jsx)("p",{children:"Try adjusting your filters."})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>(0,s.jsx)(d,{item:e},e.id))})}},5379:(e,r,t)=>{"use strict";t.d(r,{SheetMusicClientPage:()=>u});var s=t(5155),a=t(2115),n=t(2523),l=t(9409);let i=(0,t(157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var c=t(3473);function o(e){let{onSearchChange:r,onInstrumentChange:t,onComposerChange:a}=e;return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(n.p,{placeholder:"Search by piece name...",className:"pl-10",onChange:e=>r(e.target.value)})]}),(0,s.jsxs)(l.l6,{onValueChange:e=>t("all"===e?"":e),children:[(0,s.jsx)(l.bq,{children:(0,s.jsx)(l.yv,{placeholder:"Filter by instrument"})}),(0,s.jsxs)(l.gC,{children:[(0,s.jsx)(l.eb,{value:"all",children:"All Instruments"}),c.n9.map(e=>(0,s.jsx)(l.eb,{value:e,children:e},e))]})]}),(0,s.jsxs)(l.l6,{onValueChange:e=>a("all"===e?"":e),children:[(0,s.jsx)(l.bq,{children:(0,s.jsx)(l.yv,{placeholder:"Filter by composer"})}),(0,s.jsxs)(l.gC,{children:[(0,s.jsx)(l.eb,{value:"all",children:"All Composers"}),c.eI.map(e=>(0,s.jsx)(l.eb,{value:e,children:e},e))]})]})]})}var d=t(5096);function u(e){let{initialItems:r}=e,[t,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),h=(0,a.useMemo)(()=>r.filter(e=>{let r=e.title.toLowerCase().includes(t.toLowerCase()),s=!l||e.instrument===l,a=!c||e.composer===c;return r&&s&&a}),[r,t,l,c]);return(0,s.jsxs)("div",{children:[(0,s.jsx)(o,{onSearchChange:n,onInstrumentChange:i,onComposerChange:u}),(0,s.jsx)(d.L,{items:h})]})}},6126:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(5155);t(2115);var a=t(2085),n=t(9434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...a})}},6326:(e,r,t)=>{"use strict";t.d(r,{RecommendationTool:()=>h});var s=t(5155),a=t(4477);let n=(0,a.createServerReference)("402fe569a48858f9963bbc8e7c6f58b2481bd0d06d",a.callServer,void 0,a.findSourceMapURL,"recommendNewSheetMusic");var l=t(285),i=t(6695),c=t(4717);let o=(0,t(157).A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var d=t(2115),u=t(9576);function h(){let[e,r]=(0,d.useTransition)(),[t,a]=(0,d.useState)(null),[h,m]=(0,d.useState)(null),{user:p}=(0,u.A)(),[x,f]=(0,d.useState)([]);return((0,d.useEffect)(()=>{p&&p.purchaseHistory.length>0?r(async()=>{f(await (0,c.n)(p.purchaseHistory))}):f([])},[p]),p)?(0,s.jsxs)(i.Zp,{className:"bg-card/50 border-primary/20 mb-12",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2 font-headline",children:[(0,s.jsx)(o,{className:"text-accent"}),"Discover Your Next Piece"]}),(0,s.jsx)(i.BT,{children:"Based on your purchased music, here are some new pieces you might enjoy."})]}),(0,s.jsxs)(i.Wu,{children:[!t&&(0,s.jsx)(l.$,{onClick:()=>{r(async()=>{if(m(null),!p)return void m("You need to be logged in to get recommendations.");let e=x.map(e=>e.title).join(", ");if(!e)return void m("You haven't purchased any music yet to get recommendations.");try{let r=await n({purchaseHistory:e});a(r.recommendations)}catch(e){console.error(e),m("Could not fetch recommendations at this time.")}})},disabled:e,children:e?"Generating...":"Get Recommendations"}),h&&(0,s.jsx)("p",{className:"text-destructive mt-4",children:h}),t&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"We recommend:"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:t}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>a(null),className:"mt-4",children:"Refresh"})]})]})]}):null}},8937:(e,r,t)=>{Promise.resolve().then(t.bind(t,6326)),Promise.resolve().then(t.bind(t,5379))}},e=>{var r=r=>e(e.s=r);e.O(0,[102,345,46,487,411,590,441,684,358],()=>r(8937)),_N_E=e.O()}]);